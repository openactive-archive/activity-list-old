language: node_js
node_js:
- 11
env:
  global:
    secure: AUtgubDzsSV3oQd8RgHgjkyvqiaeGThJ/asHsZerXsPIEZttSZOXBvGgODnF8k2hzCIeqj9NfLAfcwI+xCr0aO+kxHHZE2PZLvBAuRGW9fa7nktun6EmG6KZwADQZ6m3CSRXjpoApZegdfsl52Pbb95ULCRXCsvBjE0KThc8ij+k2BDImRJgnr4nummeccS8EWpdQfbhjpx+tOmEnftIWfipvsnXnnmuQjkNTtiIkH2/GMTRI+4D4Zz4et13U6kR+s9dg4WzvY14YCbLxmMf0HG6maHhreMErXOmunubPWTU7AD+tfXybhNxdX3pc13ai1GOeWRyyDmIdOgNEi+Ldwnsa172FfpumWI5nNAHHnmJg1G5AVhr6ggE5pjzvTnfsZtIxTufuW0goJ/PYCL0VG50+jssG5ro4QghrK08GAQStKF6/pr0vxMJzbi32BjuqZLLNyNGbRJHxfHlPovWHrEGZJCheleUHsn4kcpKFzm6GdVGbPQk0Qw7zCTa2xBYODin98qEASrl+08fEIIIPVkA43KpN+kY73fiJb+VttdWOu4Tlo/wzw147qxqWc7eTMQxw/7lEeMTLt0f9G4ouFtfyfchFAF47uO0DCjHzBjcNw46GlZgPmAGyaaSU4TmRA+UqJIvX8X+mDVfLvJA2VFr3vvNXvSi1kO/gs1NglQ=
  matrix:
    secure: GTphu9z06qPNsv+IsWYpzAcLJ9EQCWDmoD8DKP/V9e8sqdR5VeEoXMbbY68aQwEzOlZampcon9ow78lRBkmCLiLfEWf+8urimu/Wc9syI7619tmTJ9DOaWAQXCFSNRFMfvJOdJBy6FF5yma8QH/WWdXUgvHP4V6m19wnZ277PgBurq04uUjFPHfY8ZoCJj8h0n7hTwRU2/bS7Pi5sBAKnmhO79hM2kHIMHbiT9hgo3NmphebT5CSvxmhHlJxfOeGltck3igHgdVL+m4ftDvoNSc/RsDMgEKVkQuKzDxvNPZ6rp8heU/6B5w25SvRgabvPtDcUUiMFT+8NFElaa8Ljo6HMMv0VWbbvpFytcottQf3MgNhWqxF0EtJ2lYF6vOgxQDyJs93/D5HkNjYaMhoKV4Kc33GBFBAqU9hCeH/PliMhv3szNHdx2/9z8nvR28pbi8IFq9x2bA5ByzR+i830X/pAGPVw/aW/kD9ypsxmKKrlFmzUEPzDSWgBTdJfs2aF0w+3/L8DxdVrKlsnmvs+gsuWmM9KdSSt/gxgbj/MjBUoi36kMKxCJq72Fkl8ToGOFIg9XzQzdbC33TmwHmOsUTlSrwOy31akLRhM2YoYKHcj2b4eXv2eZ+6MrLytrf+j4NoIsuIfMshCT3ffLNlKjEbuqs1DrIYM8hCYpl3l8g=
install:
- npm install -g
script: node validate.js
after_success:
- git config user.email "travis@travis.org"
- git config user.name "travis"
- git checkout master
- cp unvalidated_activity_list.jsonld validated_activity_list.jsonld
- git add validated_activity_list.jsonld
- git commit --allow-empty -m "[ci skip] Activity list export validated"
#- git push --force https://thill-odi:${COMMIT_TOKEN}@github.com:/openactive/activity-list.git HEAD:master
- git push --force git@github.com:openactive/activity-list.git HEAD:master
